{"ast":null,"code":"var _jsxFileName = \"/Users/yati/Desktop/react/react-front/src/post/Posts.js\";\nimport React, { Component } from 'react';\nimport { list } from \"./apiPost\";\nimport { Link } from 'react-router-dom';\nimport DefaultPost from \"../images/avatar.jpg\";\n\nclass Posts extends Component {\n  constructor() {\n    super();\n\n    this.renderPosts = posts => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 13\n        }\n      }, posts.map((post, index) => {\n        const posterId = post.postedBy ? `user/${post.postedBy._id}` : \"\";\n        const posterName = post.postedBy ? post.postedBy.name : \"Unknown\";\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"card col-md-4\",\n          style: {\n            width: \"18rem\"\n          },\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 24\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"card-body\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: `${process.env.REACT_APP_API_URL}/post/photo/${post._id}`,\n          alt: post.title,\n          onError: i => i.target.src = `${DefaultPost}`,\n          className: \"img-thumbnail mb-3\",\n          style: {\n            height: \"200px\",\n            width: \"auto\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 21\n          }\n        }), /*#__PURE__*/React.createElement(\"h5\", {\n          className: \"card-title\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 21\n          }\n        }, post.title), /*#__PURE__*/React.createElement(\"p\", {\n          className: \"card-text\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 22\n          }\n        }, \" \", post.body.substring(0, 100)), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 22\n          }\n        }), /*#__PURE__*/React.createElement(\"p\", {\n          className: \"font-italic mark\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 22\n          }\n        }, \"Posted by\", \" \", /*#__PURE__*/React.createElement(Link, {\n          to: `${posterId}`,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 26\n          }\n        }, posterName, \" \"), \"on \", new Date(post.created).toDateString()), /*#__PURE__*/React.createElement(Link, {\n          to: `post/${post._id}`,\n          className: \"btn btn-raised btn-orimary btn-sm\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 25\n          }\n        }, \"Read more...\")));\n      }));\n    };\n\n    this.state = {\n      posts: []\n    };\n  }\n\n  componentDidMount() {\n    list().then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        this.setState({\n          posts: data\n        });\n      }\n    }).catch(err => console.log(err));\n  }\n\n  render() {\n    const {\n      posts\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"mt-5 mb-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }\n    }, !posts.length ? \"Loading...\" : \"Recent Poems are\"), this.renderPosts(posts));\n  }\n\n}\n\nexport default Posts;","map":{"version":3,"sources":["/Users/yati/Desktop/react/react-front/src/post/Posts.js"],"names":["React","Component","list","Link","DefaultPost","Posts","constructor","renderPosts","posts","map","post","index","posterId","postedBy","_id","posterName","name","width","process","env","REACT_APP_API_URL","title","i","target","src","height","body","substring","Date","created","toDateString","state","componentDidMount","then","data","error","console","log","setState","catch","err","render","length"],"mappings":"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","sourcesContent":["import React,{Component} from 'react'\nimport {list} from \"./apiPost\"\nimport {Link} from 'react-router-dom'\nimport DefaultPost from \"../images/avatar.jpg\"\n\nclass Posts extends Component {\n    constructor(){\n        super()\n        this.state={\n            posts:[]\n        }\n    }\n\n    componentDidMount(){\n        list().then(data =>{\n            if(data.error){\n                console.log(data.error)\n            }\n            else{\n                this.setState({posts:data})\n            }\n        })\n        .catch(err=>console.log(err))\n    }\n\n    renderPosts=(posts)=>{\n        return (\n            <div className=\"row\">\n            {posts.map ((post,index)=>{\n                const posterId=post.postedBy ? `user/${post.postedBy._id}` : \"\";\n                const posterName=post.postedBy ? post.postedBy.name:\"Unknown\";\n               return( <div className=\"card col-md-4\" style={{width:\"18rem\"}} key={index}>\n\n                    <div className=\"card-body\">\n                    <img src={`${process.env.REACT_APP_API_URL}/post/photo/${post._id}`}\n                    alt={post.title}\n                    onError={i=>(i.target.src= `${DefaultPost}`)}\n                    className=\"img-thumbnail mb-3\"\n                    style={{height:\"200px\", width:\"auto\"}}/>\n                    <h5 className=\"card-title\">{post.title}</h5>\n                     <p className=\"card-text\"> {post.body.substring(0,100)}</p>\n                     <br/>\n                     <p className=\"font-italic mark\">\n                         Posted by{\" \"}  \n                         <Link \n                             to={`${posterId}`} \n                            >{posterName}{\" \"}\n                            </Link>\n                            on {new Date(post.created).toDateString()}\n                            </p>\n                        <Link \n                         to={`post/${post._id}`}\n                         className=\"btn btn-raised btn-orimary btn-sm\">\n                             Read more...\n                         </Link>\n                            </div>\n                            </div>)\n\n                     })}\n                    </div>\n\n                \n\n\n        )\n    }\n\n    render()\n    {\n        const {posts}=this.state;\n        return (\n            <div className=\"container\">\n                <h2 className=\"mt-5 mb-5\">\n                    {!posts.length ? \"Loading...\" : \"Recent Poems are\"}\n                  \n                </h2>\n                {this.renderPosts(posts)}\n            </div>\n        )\n    }\n\n}\nexport default Posts;\n\n\n"]},"metadata":{},"sourceType":"module"}